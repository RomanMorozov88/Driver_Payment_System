# Driver Payment System
``` 
Задание

Напишите Spring-приложение, предоставляющее REST-сервис для приема и регистрации операций   
в базе данных по расчетам с водителями. 
У каждого водителя может быть несколько лицевых счетов.

Требования

СУБД PostgreSQL 10; создать структуру БД самостоятельно.

Доступ к данным реализовать с помощью Hibernate.

Реализовать операции REST-сервиса; прием параметров и возврат данных – в JSON:

— начисление на счет водителя,

— списание со счета водителя,

— получение текущего баланса по счету,

— перевод между собственными лицевыми счетами водителя,

— получение оборота за период по отдельному лицевому счету (дебет, кредит отдельно),

— получение подробного списка операций за период.

Для объемных операций (например, получение списка операций) реализовать постраничную выдачу.

Дополнительные требования

Создать Gradle-проект.

Хранение исходников – в GIT (например, на gitlab.com).

Дополнительным плюсом будет реализации unit-тестов.
```  

База данных: driver_payment  
Таблицы генерируются автоматически.  

ЗАПРОСЫ:
```
выключение приложения:
    GET dps/exit

    *   *   *    *   *   *

список всех водителей:
    GET dps/drivers (можно добавить ?page=0&size=5)

добавление нового водителя:
    POST dps/drivers
        {
            "name": "NAME"
        }

получение списка счетов водителя:
    GET dps/drivers/{id}

создание нового счёта для водителя:
    POST dps/drivers/{id}

удаление водителя
(а так же каскадное удаление всех его счетов):
    DELETE dps/drivers/{id}

    *   *   *    *   *   *

получение данных по счёту(баланс):
    GET dps/accounts/{id}

операция по счёту:
    POST dps/accounts/{id}
        {
            "sum": 0.0,
            "operation": "debit" (OR "credit"),
        }

удаление счёта
(а так же каскадное удаление всех связанных операций):
    DELETE dps/accounts/{id}

перевод между своими счетами:
    POST dps/accounts/{OWNER_ID}/{FROM_AC_ID}/{TO_AC_ID}
        {
            "data": 0.0
        }

    *   *   *    *   *   * 

Даты в следующих запросах указаны для примера.

получение списка операций за период:
    GET dps/payments/{id} (можно добавить ?page=0&size=5)
        {
            "start": "2020-11-11 07:41:23 UTC",
            "end": "2020-11-11 17:41:23 UTC"
        }

получение оборота за период по отдельному лицевому счету:
    GET dps/payments/total/{id}
        {
            "start": "2020-11-11 07:41:23 UTC",
            "end": "2020-11-11 17:41:23 UTC"
        }
```